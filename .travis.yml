sudo: required
dist: bionic

env:
        - ROS_LOG_DIR=/home/travis/.ros/log

install:
        - bash -xve ./test/travis_ros_install.bash
        - source ~/catkin_ws/devel/setup.bash
before_script:
        - bash -xve ./test/travis_package_make.bash
        - source ~/catkin_ws/devel/setup.bash
        - bash -xve ./test/travis_prepare_dummy_files.bash
        - cd
        - cd ./node_modules/
        - cd .bin/
        - cd travis/
          #- sudo chmod 0555 ./node_modules/.bin/travis
script:
        - cd /home/travis/.ros/
        - sudo mkdir test_results
        - cd test_results
        - sudo mkdir pimouse_ros
        - cd pimouse_ros
        - sudo touch rostest-launch_test.xml
        - sudo chmod 666 rostest-launch_test.xml
        - cd ~/catkin_ws/src/pimouse_ros/
          #- source ~/catkin_ws/devel/setup.bash
          #- cd ~/catkin_ws/
          #- catkin_make tests
        - rostest pimouse_ros test.launch
